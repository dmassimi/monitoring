{
  "imports": [
    "github.com/project-flogo/flow",
    "github.com/project-flogo/contrib/activity/noop",
    "github.com/tibco/flogo-general/src/app/General/activity/shareddata",
    "github.com/project-flogo/contrib/activity/actreturn",
    "github.com/project-flogo/flow/activity/subflow",
    "github.com/project-flogo/contrib/activity/error",
    "github.com/tibco/flogo-general/src/app/General/activity/log",
    "github.com/tibco/flogo-general/src/app/General/activity/mapper",
    "github.com/tibco/flogo-general/src/app/General/activity/rest",
    "rest_1 github.com/tibco/flogo-general/src/app/General/trigger/rest",
    "github.com/project-flogo/contrib/function/utils",
    "github.com/project-flogo/contrib/function/datetime",
    "github.com/project-flogo/contrib/function/string",
    "github.com/project-flogo/contrib/function/array",
    "github.com/project-flogo/contrib/function/coerce",
    "github.com/project-flogo/contrib/function/json",
    "github.com/tibco/wi-plugins/contributions/kafka/src/app/Kafka/connector/kafka"
  ],
  "name": "order-app",
  "description": "",
  "version": "1.0.0",
  "type": "flogo:app",
  "appModel": "1.1.1",
  "tags": [],
  "triggers": [
    {
      "ref": "#rest_1",
      "name": "tibco-wi-rest",
      "description": "Simple REST Trigger",
      "settings": {
        "port": 8075,
        "APISpecUpdate": false,
        "swagger": "",
        "swaggerVersion": "v2",
        "apiVersion": "1.0.0",
        "secureConnection": false,
        "serverKey": "",
        "caCertificate": ""
      },
      "id": "ReceiveHTTPMessage",
      "handlers": [
        {
          "description": "",
          "settings": {
            "Method": "GET",
            "reqType": "application/json",
            "Path": "/order/save/{id}",
            "OutputValidation": false
          },
          "action": {
            "ref": "github.com/project-flogo/flow",
            "settings": {
              "flowURI": "res://flow:MCI-SaveOrder"
            },
            "input": {
              "pathParams": {
                "mapping": {
                  "id": "=$.pathParams.id"
                }
              }
            },
            "output": {
              "code": "=$.code",
              "responseBody": {
                "mapping": {
                  "body": "=$.responseBody.body"
                }
              }
            }
          },
          "reply": {
            "code": 200,
            "configureResponseCodes": true,
            "message": {}
          },
          "schemas": {
            "reply": {
              "data": {
                "type": "json",
                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"number\"},\"shipped\":{\"type\":\"boolean\"}}}",
                "fe_metadata": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
              },
              "responseBody": {
                "type": "json",
                "value": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}",
                "fe_metadata": "{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}"
              },
              "responseCodesSchema": {
                "type": "json",
                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"},\"responseHeaders\":{\"type\":\"string\"}},\"required\":[\"code\",\"responseType\",\"responseSchema\",\"responseHeaders\"]}}",
                "fe_metadata": "[{\"code\":\"200\",\"responseType\":\"string\",\"responseSchema\":\"\",\"responseHeaders\":\"\"},{\"code\":\"500\",\"responseType\":\"string\",\"responseSchema\":\"\",\"responseHeaders\":\"\"}]"
              }
            },
            "output": {
              "pathParams": {
                "type": "json",
                "value": "{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"}},\"required\":[]}",
                "fe_metadata": "[{\"parameterName\":\"id\",\"type\":\"string\"}]"
              },
              "headers": {
                "type": "json",
                "value": "{\"type\":\"object\",\"properties\":{\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Authorization\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]}",
                "fe_metadata": "[{\"parameterName\":\"Accept\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Charset\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Encoding\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Authorization\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Connection\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Length\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Type\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Pragma\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false}]"
              }
            }
          },
          "name": "MCI-SaveOrder"
        }
      ]
    }
  ],
  "resources": [
    {
      "id": "flow:gen_ctx",
      "data": {
        "name": "gen_ctx",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "set_pc",
            "type": "label",
            "label": "StartActivity to SharedData"
          },
          {
            "id": 2,
            "from": "set_pc",
            "to": "get_pc",
            "type": "label",
            "label": "set_pc to get_pc"
          },
          {
            "id": 3,
            "from": "get_pc",
            "to": "Return",
            "type": "label",
            "label": "SharedData1 to Return"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "set_pc",
            "name": "set_pc",
            "description": "Enable sharing of data within or across flows in the application",
            "activity": {
              "ref": "#shareddata",
              "settings": {
                "scope": "Flow",
                "operation": "SET",
                "type": "object",
                "objectSchema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
              },
              "input": {
                "key": "=$flowctx[\"ParentFlowId\"]",
                "input": {
                  "mapping": {
                    "data": {
                      "processContext": {
                        "flowContext": {
                          "flowCode": "=$flow.genCtxIn.flowContext.flowCode",
                          "taskCode": "=$flow.genCtxIn.flowContext.taskCode",
                          "flowId": "=utils.uuid()",
                          "taskId": "=utils.uuid()"
                        },
                        "messageContext": {
                          "transportProp": "=$flow.genCtxIn.messageContext.transportProp",
                          "messagingType": "=$flow.genCtxIn.messagingType",
                          "msgSourceInfo": {
                            "area": "=$flow.genCtxIn.messageContext.msgSourceInfo.area",
                            "layer": "=$flow.genCtxIn.messageContext.msgSourceInfo.layer",
                            "component": {
                              "componentName": "=$flow.genCtxIn.messageContext.msgSourceInfo.component.componentName",
                              "componentInstance": "=$flow.genCtxIn.messageContext.msgSourceInfo.component.componentInstance"
                            }
                          }
                        },
                        "serviceContext": {
                          "serviceName": "=$flow.genCtxIn.serviceName",
                          "contextTimestamp": "=datetime.currentDatetime()",
                          "location": {
                            "area": "LOCAL",
                            "layer": "FRK",
                            "component": {
                              "componentName": "flogo-rest-app",
                              "componentInstance": "1"
                            }
                          },
                          "servicePath": "=$flowctx[\"FlowName\"]",
                          "messagingType": "=$flow.genCtxIn.messagingType",
                          "noLogEntry": "=$flow.genCtxIn.noLogEntry",
                          "noLogExit": "=$flow.genCtxIn.noLogExit",
                          "logMsgBodyPolicy": "2",
                          "contextId": "=string.substringBefore($flowctx[\"ParentFlowId\"],\"-\")"
                        }
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "settings": {
                  "objectSchema": "schema://processCtx"
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "get_pc",
            "name": "get_pc",
            "description": "Enable sharing of data within or across flows in the application",
            "activity": {
              "ref": "#shareddata",
              "settings": {
                "scope": "Flow",
                "operation": "GET",
                "type": "object",
                "objectSchema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
              },
              "input": {
                "key": "=$flowctx[\"ParentFlowId\"]"
              },
              "schemas": {
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "settings": {
                  "objectSchema": "schema://processCtx"
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Return",
            "name": "Return",
            "description": "Simple Return Activity",
            "activity": {
              "ref": "#actreturn",
              "settings": {
                "mappings": {
                  "processContext": "=$activity[get_pc].output.data.processContext"
                }
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6MTAwfSwic2V0X3BjIjp7IngiOjMyNiwieSI6ODd9LCJnZXRfcGMiOnsieCI6NTQ0LCJ5Ijo4Nn0sIlJldHVybiI6eyJ4Ijo3OTMsInkiOjg4fX0=",
        "metadata": {
          "input": [
            {
              "name": "genCtxIn",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"}}},\"serviceName\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"}}"
              }
            }
          ],
          "output": [
            {
              "name": "processContext",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}"
              }
            }
          ],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"genCtxIn\":{\"type\":\"object\",\"properties\":{\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"}}},\"serviceName\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"}}}}}",
            "output": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}"
          }
        }
      }
    },
    {
      "id": "flow:MCI-SaveOrder",
      "data": {
        "name": "MCI-SaveOrder",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "gen_ctx",
            "type": "label",
            "label": "StartActivity to StartaSubFlow"
          },
          {
            "id": 2,
            "from": "gen_ctx",
            "to": "log_entry",
            "type": "exprOtherwise",
            "label": "genCtx to StartaSubFlow"
          },
          {
            "id": 3,
            "from": "log_entry",
            "to": "main",
            "type": "label",
            "label": "log_entry to StartaSubFlow"
          },
          {
            "id": 4,
            "from": "main",
            "to": "log_exit",
            "type": "label",
            "label": "main to log_exit"
          },
          {
            "id": 5,
            "from": "log_exit",
            "to": "Return1",
            "type": "label",
            "label": "log_exit to Return1"
          },
          {
            "id": 6,
            "from": "gen_ctx",
            "to": "ThrowError",
            "type": "expression",
            "label": "gen_ctx to ThrowError",
            "value": "string.equals($flow.pathParams.id,\"2\")"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "gen_ctx",
            "name": "gen_ctx",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:gen_ctx",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "genCtxIn": {
                  "mapping": {
                    "flowContext": {
                      "flowCode": "saveOrder",
                      "taskCode": "MCI00001",
                      "layer": "MCI"
                    },
                    "serviceName": "saveOrder-svc",
                    "messagingType": "JSON_HTTP",
                    "messageContext": {
                      "msgSourceInfo": {
                        "area": "LOCAL",
                        "layer": "MCI",
                        "component": {
                          "componentName": "flogo-rest-app",
                          "componentInstance": "1"
                        }
                      },
                      "transportProp": {
                        "nvpList": {
                          "nvpElement": [
                            {
                              "name": "order-id",
                              "value": "=$flow.pathParams.id"
                            },
                            {
                              "name": "app-type",
                              "value": "flogo-app"
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"genCtxIn\":{\"type\":\"object\",\"properties\":{\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"}}},\"serviceName\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"genCtxIn\":{\"type\":\"object\",\"properties\":{\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"}}},\"serviceName\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"}}}}}"
                  }
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "log_entry",
            "name": "log_entry",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:log_entry",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "logEntry": {
                  "mapping": {
                    "appContext": {
                      "nvpList": "=$activity[gen_ctx].processContext.messageContext.transportProp.nvpList"
                    },
                    "logCode": "=$activity[gen_ctx].processContext.flowContext.taskCode",
                    "logTxt": "=$flow.pathParams.id"
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logEntry\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logEntry\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "main",
            "name": "main",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:main",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "orderId": "=coerce.toInt($flow.pathParams.id)"
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"orderId\":{\"type\":\"number\"}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"orderId\":{\"type\":\"number\"}}}"
                  }
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"number\"},\"shipped\":{\"type\":\"boolean\"}}}",
                    "fe_metadata": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "log_exit",
            "name": "log_exit",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:log_exit",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "logExit": {
                  "mapping": {
                    "logCode": "=$activity[gen_ctx].processContext.flowContext.taskCode",
                    "appContext": {
                      "nvpList": {
                        "nvpElement": [
                          {
                            "name": "key-2-exit",
                            "value": "value-2-exit"
                          }
                        ]
                      }
                    },
                    "logTxt": "=string.concat(\"order details found for customer \",$activity[main].customer)",
                    "logBodyTxt": "=coerce.toString($activity[main])"
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logExit\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logExit\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Return1",
            "name": "Return1",
            "description": "Simple Return Activity",
            "activity": {
              "ref": "#actreturn",
              "settings": {
                "mappings": {
                  "code": 200,
                  "responseBody": {
                    "mapping": {
                      "body": "=$activity[main]"
                    }
                  }
                }
              }
            }
          },
          {
            "id": "ThrowError",
            "name": "ThrowError",
            "description": "Throws an Error",
            "activity": {
              "ref": "#error",
              "input": {
                "message": "error in MCI"
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEzOSwieSI6MTQ3fSwiZ2VuX2N0eCI6eyJ4IjoyNDgsInkiOjEzOH0sImxvZ19lbnRyeSI6eyJ4Ijo0NzIsInkiOjEzN30sIm1haW4iOnsieCI6NjYwLCJ5IjoxMzh9LCJsb2dfZXhpdCI6eyJ4Ijo4MjcsInkiOjEzOX0sIlJldHVybjEiOnsieCI6MTAyMywieSI6MTM3fSwiVGhyb3dFcnJvciI6eyJ4Ijo0ODMsInkiOjMxNX19",
        "errorHandler": {
          "tasks": [
            {
              "id": "LogMessage",
              "name": "LogMessage",
              "description": "Simple Log Message Activity",
              "activity": {
                "ref": "#log",
                "input": {
                  "Log Level": "ERROR",
                  "flowInfo": false,
                  "message": "=string.concat(\"Activity \",$error.activity,\" in MCI goes in error. Message:\",$error.message)",
                  "logLevel": ""
                }
              }
            },
            {
              "id": "Mapper",
              "name": "Mapper",
              "description": "Mapper Activity",
              "activity": {
                "ref": "#mapper",
                "input": {
                  "input": {
                    "mapping": {
                      "errorMessage": "=$error.message",
                      "errorCode": "F5X00001",
                      "errorData": "=coerce.toString($error.data)"
                    }
                  }
                },
                "schemas": {
                  "input": {
                    "input": {
                      "type": "json",
                      "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"errorCode\":{\"type\":\"string\"},\"errorMessage\":{\"type\":\"string\"},\"errorData\":{\"type\":\"string\"}}}",
                      "fe_metadata": "{\n    \"errorCode\":\"500\",\n    \"errorMessage\":\"tata\",\n    \"errorData\":\"titi\"\n    \n}"
                    }
                  },
                  "output": {
                    "output": {
                      "type": "json",
                      "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"errorCode\":{\"type\":\"string\"},\"errorMessage\":{\"type\":\"string\"},\"errorData\":{\"type\":\"string\"}}}",
                      "fe_metadata": "{\n  \"errorCode\": \"500\",\n  \"errorMessage\": \"tata\",\n  \"errorData\": \"titi\"\n}"
                    }
                  }
                },
                "feSchemaMap": {}
              }
            },
            {
              "id": "log_error",
              "name": "log_error",
              "description": "Simple SubFlow Activity",
              "settings": {
                "retryOnError": {
                  "count": 0,
                  "interval": 0
                }
              },
              "activity": {
                "ref": "#subflow",
                "settings": {
                  "flowURI": "res://flow:log_error",
                  "detached": false,
                  "execTimeout": 0
                },
                "input": {
                  "logError": {
                    "mapping": {
                      "logCode": "=$activity[Mapper].output.errorCode",
                      "logTxt": "=$activity[Mapper].output.errorMessage",
                      "error": {
                        "errType": "B",
                        "errSeverity": "4",
                        "errProcessStack": "=coerce.toString($error.message)"
                      }
                    }
                  }
                },
                "schemas": {
                  "input": {
                    "input": {
                      "type": "json",
                      "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logError\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}",
                      "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logError\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
                    }
                  }
                },
                "feSchemaMap": {}
              }
            },
            {
              "id": "Return",
              "name": "Return",
              "description": "Simple Return Activity",
              "activity": {
                "ref": "#actreturn",
                "settings": {
                  "mappings": {
                    "code": 500,
                    "responseBody": {
                      "mapping": {
                        "body": "=$activity[Mapper]"
                      }
                    }
                  }
                }
              }
            }
          ],
          "links": [
            {
              "id": 7,
              "from": "LogMessage",
              "to": "Mapper",
              "type": "label",
              "label": "LogMessage to Mapper"
            },
            {
              "id": 8,
              "from": "Mapper",
              "to": "log_error",
              "type": "label",
              "label": "Mapper to StartaSubFlow"
            },
            {
              "id": 9,
              "from": "log_error",
              "to": "Return",
              "type": "label",
              "label": "log_error to Return"
            }
          ],
          "fe_metadata": "eyJMb2dNZXNzYWdlIjp7IngiOjI5MCwieSI6OTR9LCJNYXBwZXIiOnsieCI6NDgwLCJ5Ijo5NX0sImxvZ19lcnJvciI6eyJ4Ijo2NzQsInkiOjkzfSwiUmV0dXJuIjp7IngiOjEwNzksInkiOjg4fX0="
        },
        "metadata": {
          "input": [
            {
              "name": "pathParams",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"id\":{\"type\":\"string\"}}"
              }
            },
            {
              "name": "headers",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Authorization\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}}"
              }
            },
            {
              "name": "requestURI",
              "type": "string"
            },
            {
              "name": "method",
              "type": "string"
            }
          ],
          "output": [
            {
              "name": "code",
              "type": "integer"
            },
            {
              "name": "responseBody",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}"
              }
            }
          ],
          "fe_metadata": {
            "input": "{\"type\":\"object\",\"title\":\"ReceiveHTTPMessage\",\"properties\":{\"pathParams\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"}},\"required\":[]},\"headers\":{\"type\":\"object\",\"properties\":{\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Authorization\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]},\"requestURI\":{\"type\":\"string\",\"required\":false},\"method\":{\"type\":\"string\",\"required\":false}}}",
            "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"code\":{\"type\":\"integer\",\"required\":false},\"responseBody\":{\"type\":\"object\",\"properties\":{\"body\":{\"type\":\"any\"},\"headers\":{\"type\":\"object\"}}}},\"required\":[]}"
          }
        },
        "explicitReply": true
      }
    },
    {
      "id": "flow:log_entry",
      "data": {
        "name": "log_entry",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "get_pc",
            "type": "label",
            "label": "StartActivity to get_pc"
          },
          {
            "id": 2,
            "from": "get_pc",
            "to": "Mapper",
            "type": "label",
            "label": "SharedData to Mapper"
          },
          {
            "id": 3,
            "from": "Mapper",
            "to": "LogMessage",
            "type": "label",
            "label": "Mapper to LogMessage"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "get_pc",
            "name": "get_pc",
            "description": "Enable sharing of data within or across flows in the application",
            "activity": {
              "ref": "#shareddata",
              "settings": {
                "scope": "Flow",
                "operation": "GET",
                "type": "object",
                "objectSchema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
              },
              "input": {
                "key": "=string.substringBefore($flowctx[\"ParentFlowId\"],\"-\")"
              },
              "schemas": {
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "settings": {
                  "objectSchema": "schema://processCtx"
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Mapper",
            "name": "Mapper",
            "description": "Mapper Activity",
            "activity": {
              "ref": "#mapper",
              "input": {
                "input": {
                  "mapping": {
                    "logEventActivityIn": {
                      "logEventRecord": {
                        "log": {
                          "timestamp": "=datetime.currentDatetime()",
                          "processPath": "=$flowctx[\"ParentFlowName\"]",
                          "role": "ENTRY",
                          "code": "=$flow.logEntry.logCode",
                          "contextId": "=$activity[get_pc].output.data.processContext.serviceContext.contextId",
                          "bodyTxt": {
                            "@conditional": [
                              {
                                "string.len($flow.logEntry.logBodyTxt)>0": "=$flow.logEntry.logBodyTxt"
                              },
                              {
                                "@otherwise": "NA"
                              }
                            ]
                          },
                          "txt": {
                            "@conditional": [
                              {
                                "string.len($flow.logEntry.logTxt)>0": "=$flow.logEntry.logTxt"
                              },
                              {
                                "@otherwise": "NA"
                              }
                            ]
                          }
                        },
                        "appContext": {
                          "@conditional": [
                            {
                              "json.exists($flow.logEntry.appContext,\"$loop.nvpList.nvpElement[0].value\")": {
                                "nvpElement": {
                                  "@foreach($flow.logEntry.appContext.nvpList.nvpElement,nvpElement)": {
                                    "=": "$loop"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": "schema://logEvent"
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                    "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "LogMessage",
            "name": "LogMessage",
            "description": "Simple Log Message Activity",
            "activity": {
              "ref": "#log",
              "input": {
                "Log Level": "INFO",
                "flowInfo": false,
                "message": "=coerce.toString($activity[Mapper].output)",
                "logLevel": ""
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6OTl9LCJnZXRfcGMiOnsieCI6NDY4LCJ5Ijo4OX0sIk1hcHBlciI6eyJ4Ijo2NjgsInkiOjg3fSwiTG9nTWVzc2FnZSI6eyJ4Ijo4OTYsInkiOjg3fX0=",
        "metadata": {
          "input": [
            {
              "name": "logEntry",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}"
              }
            }
          ],
          "output": [],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logEntry\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
          }
        }
      }
    },
    {
      "id": "flow:log_exit",
      "data": {
        "name": "log_exit",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "get_pc",
            "type": "label",
            "label": "StartActivity to SharedData"
          },
          {
            "id": 2,
            "from": "get_pc",
            "to": "Mapper",
            "type": "label",
            "label": "SharedData to Mapper"
          },
          {
            "id": 3,
            "from": "Mapper",
            "to": "LogMessage",
            "type": "label",
            "label": "Mapper to LogMessage"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "get_pc",
            "name": "get_pc",
            "description": "Enable sharing of data within or across flows in the application",
            "activity": {
              "ref": "#shareddata",
              "settings": {
                "scope": "Flow",
                "operation": "GET",
                "type": "object",
                "objectSchema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
              },
              "input": {
                "key": "=string.substringBefore($flowctx[\"ParentFlowId\"],\"-\")"
              },
              "schemas": {
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "settings": {
                  "objectSchema": "schema://processCtx"
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Mapper",
            "name": "Mapper",
            "description": "Mapper Activity",
            "activity": {
              "ref": "#mapper",
              "input": {
                "input": {
                  "mapping": {
                    "logEventActivityIn": {
                      "logEventRecord": {
                        "log": {
                          "contextId": "=$activity[get_pc].output.data.processContext.serviceContext.contextId",
                          "timestamp": "=datetime.currentDatetime()",
                          "processPath": "=$flowctx[\"ParentFlowName\"]",
                          "role": "EXIT",
                          "code": "=$flow.logExit.logCode",
                          "txt": {
                            "@conditional": [
                              {
                                "string.len($flow.logExit.logTxt)>0": "=$flow.logExit.logTxt"
                              },
                              {
                                "@otherwise": "NA"
                              }
                            ]
                          },
                          "bodyTxt": {
                            "@conditional": [
                              {
                                "string.len($flow.logExit.logBodyTxt)>0": "=$flow.logExit.logBodyTxt"
                              },
                              {
                                "@otherwise": "NA"
                              }
                            ]
                          }
                        },
                        "appContext": {
                          "@conditional": [
                            {
                              "json.exists($flow.logExit.appContext,\"$loop.nvpList.nvpElement[0].value\")": {
                                "nvpElement": {
                                  "@foreach($flow.logExit.appContext.nvpList.nvpElement,nvpElement)": {
                                    "name": "=$loop.name",
                                    "value": "=$loop.value"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": "schema://logEvent"
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                    "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "LogMessage",
            "name": "LogMessage",
            "description": "Simple Log Message Activity",
            "activity": {
              "ref": "#log",
              "input": {
                "Log Level": "INFO",
                "flowInfo": false,
                "message": "=coerce.toString($activity[Mapper].output)",
                "logLevel": ""
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6MTAwfSwiZ2V0X3BjIjp7IngiOjIxOSwieSI6OTV9LCJNYXBwZXIiOnsieCI6NDA5LCJ5Ijo5MX0sIkxvZ01lc3NhZ2UiOnsieCI6NjUyLCJ5Ijo5Mn19",
        "metadata": {
          "input": [
            {
              "name": "logExit",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}"
              }
            }
          ],
          "output": [],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logExit\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}}}}"
          }
        }
      }
    },
    {
      "id": "flow:map_app_ctx",
      "data": {
        "name": "map_app_ctx",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "Mapper",
            "type": "label",
            "label": "StartActivity to Mapper"
          },
          {
            "id": 2,
            "from": "Mapper",
            "to": "add_event_index",
            "type": "label",
            "label": "Mapper to add_event_index"
          },
          {
            "id": 3,
            "from": "add_event_index",
            "to": "Return",
            "type": "label",
            "label": "add_event_index to Return"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "Mapper",
            "name": "Mapper",
            "description": "Mapper Activity",
            "activity": {
              "ref": "#mapper",
              "input": {
                "input": {
                  "mapping": {
                    "auditMsg": {
                      "auditId": "=utils.uuid()",
                      "logEvents": {
                        "logEvent": {
                          "@foreach($flow.input.parse_logs,logEvent)": {
                            "logEventId": "=utils.uuid()",
                            "role": "=$loop.log.role",
                            "code": "=$loop.log.code",
                            "contextId": "=$loop.log.contextId",
                            "timestamp": "=$loop.log.timestamp",
                            "processPath": "=$loop.log.processPath",
                            "error": "=$loop.log.error",
                            "bodyTxt": {
                              "@conditional": [
                                {
                                  "string.length($loop.log.bodyTxt)>0": "=$loop.log.bodyTxt"
                                }
                              ]
                            },
                            "txt": {
                              "@conditional": [
                                {
                                  "string.length($loop.log.txt)>0": "=$loop.log.txt"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "appContext": {
                        "nvpElement": "=json.jq($flow.input.parse_logs,'. as $in | reduce range(0;length) as $i ([]; . + $in[$i].appContext.nvpElement)')"
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": "schema://auditMsg"
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"auditMsg\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"auditId\": {\n          \"type\": \"string\"\n        },\n        \"serviceContext\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"contextTimestamp\": {\n              \"type\": \"string\"\n            },\n            \"flowId\": {\n              \"type\": \"string\"\n            },\n            \"taskId\": {\n              \"type\": \"string\"\n            },\n            \"contextId\": {\n              \"type\": \"string\"\n            },\n            \"flowCode\": {\n              \"type\": \"string\"\n            },\n            \"taskCode\": {\n              \"type\": \"string\"\n            },\n            \"serviceName\": {\n              \"type\": \"string\"\n            },\n            \"processPath\": {\n              \"type\": \"string\"\n            },\n            \"layer\": {\n              \"type\": \"string\"\n            },\n            \"area\": {\n              \"type\": \"string\"\n            },\n            \"componentName\": {\n              \"type\": \"string\"\n            },\n            \"componentInstance\": {\n              \"type\": \"string\"\n            },\n            \"domainName\": {\n              \"type\": \"string\"\n            },\n            \"appName\": {\n              \"type\": \"string\"\n            },\n            \"appNodeName\": {\n              \"type\": \"string\"\n            },\n            \"host\": {\n              \"type\": \"string\"\n            },\n            \"engineName\": {\n              \"type\": \"string\"\n            },\n            \"beginTS\": {\n              \"type\": \"string\"\n            },\n            \"endTS\": {\n              \"type\": \"string\"\n            },\n            \"contextStatus\": {\n              \"type\": \"string\"\n            },\n            \"messagingType\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"appContext\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"nvpElement\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"value\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"messageContext\": {\n          \"type\": \"string\"\n        },\n        \"logEvents\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"logEvent\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"logEventId\": {\n                    \"type\": \"string\"\n                  },\n                  \"index\": {\n                    \"type\": \"integer\"\n                  },\n                  \"contextId\": {\n                    \"type\": \"string\"\n                  },\n                  \"timestamp\": {\n                    \"type\": \"string\"\n                  },\n                  \"processPath\": {\n                    \"type\": \"string\"\n                  },\n                  \"role\": {\n                    \"type\": \"string\"\n                  },\n                  \"code\": {\n                    \"type\": \"string\"\n                  },\n                  \"txt\": {\n                    \"type\": \"string\"\n                  },\n                  \"bodyTxt\": {\n                    \"type\": \"string\"\n                  },\n                  \"error\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"errType\": {\n                        \"type\": \"string\"\n                      },\n                      \"errSeverity\": {\n                        \"type\": \"string\"\n                      },\n                      \"errProcessStack\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                    "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"auditMsg\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"auditId\": {\n          \"type\": \"string\"\n        },\n        \"serviceContext\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"contextTimestamp\": {\n              \"type\": \"string\"\n            },\n            \"flowId\": {\n              \"type\": \"string\"\n            },\n            \"taskId\": {\n              \"type\": \"string\"\n            },\n            \"contextId\": {\n              \"type\": \"string\"\n            },\n            \"flowCode\": {\n              \"type\": \"string\"\n            },\n            \"taskCode\": {\n              \"type\": \"string\"\n            },\n            \"serviceName\": {\n              \"type\": \"string\"\n            },\n            \"processPath\": {\n              \"type\": \"string\"\n            },\n            \"layer\": {\n              \"type\": \"string\"\n            },\n            \"area\": {\n              \"type\": \"string\"\n            },\n            \"componentName\": {\n              \"type\": \"string\"\n            },\n            \"componentInstance\": {\n              \"type\": \"string\"\n            },\n            \"domainName\": {\n              \"type\": \"string\"\n            },\n            \"appName\": {\n              \"type\": \"string\"\n            },\n            \"appNodeName\": {\n              \"type\": \"string\"\n            },\n            \"host\": {\n              \"type\": \"string\"\n            },\n            \"engineName\": {\n              \"type\": \"string\"\n            },\n            \"beginTS\": {\n              \"type\": \"string\"\n            },\n            \"endTS\": {\n              \"type\": \"string\"\n            },\n            \"contextStatus\": {\n              \"type\": \"string\"\n            },\n            \"messagingType\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"appContext\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"nvpElement\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"value\": {\n                    \"type\": \"string\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"messageContext\": {\n          \"type\": \"string\"\n        },\n        \"logEvents\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"logEvent\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"logEventId\": {\n                    \"type\": \"string\"\n                  },\n                  \"index\": {\n                    \"type\": \"integer\"\n                  },\n                  \"contextId\": {\n                    \"type\": \"string\"\n                  },\n                  \"timestamp\": {\n                    \"type\": \"string\"\n                  },\n                  \"processPath\": {\n                    \"type\": \"string\"\n                  },\n                  \"role\": {\n                    \"type\": \"string\"\n                  },\n                  \"code\": {\n                    \"type\": \"string\"\n                  },\n                  \"txt\": {\n                    \"type\": \"string\"\n                  },\n                  \"bodyTxt\": {\n                    \"type\": \"string\"\n                  },\n                  \"error\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"errType\": {\n                        \"type\": \"string\"\n                      },\n                      \"errSeverity\": {\n                        \"type\": \"string\"\n                      },\n                      \"errProcessStack\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "add_event_index",
            "name": "add_event_index",
            "description": "Mapper Activity",
            "activity": {
              "ref": "#mapper",
              "input": {
                "input": "=json.jq($activity[Mapper].output.auditMsg.logEvents.logEvent,' . as $in | reduce range(0;length) as $i ([]; . + [{\"bodyTxt\": $in[$i].bodyTxt,\"code\": $in[$i].code,\"contextId\": $in[$i].contextId,\"logEventId\": $in[$i].logEventId,\"processPath\": $in[$i].processPath,\"role\": $in[$i].role,\"timestamp\": $in[$i].timestamp,\"txt\": $in[$i].txt, \"index\": $i,\"error\" : $in[$i].error }])')"
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"bodyTxt\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"logEventId\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"index\":{\"type\":\"number\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}},\"required\":[\"bodyTxt\",\"code\",\"contextId\",\"logEventId\",\"processPath\",\"role\",\"timestamp\",\"txt\",\"index\"]}}",
                    "fe_metadata": "[\n     {\n                \"bodyTxt\": \"NA\",\n                \"code\": \"MCI00001\",\n                \"contextId\": \"a73c580bb23771a8e4f8004c73724651\",\n                \"logEventId\": \"e59007c7-be45-4979-8e1b-afb992278887\",\n                \"processPath\": \"MCI-SaveOrder\",\n                \"role\": \"ENTRY\",\n                \"timestamp\": \"2025-04-13T15:10:53+00:00\",\n                \"txt\": \"123\",\n                \"index\":1\n            },\n            {\n                \"bodyTxt\": \"end body. this is hard coded\",\n                \"code\": \"MCI00001\",\n                \"contextId\": \"a73c580bb23771a8e4f8004c73724651\",\n                \"logEventId\": \"a71a5984-18ce-4c88-93c8-e68668739459\",\n                \"processPath\": \"MCI-SaveOrder\",\n                \"role\": \"EXIT\",\n                \"timestamp\": \"2025-04-13T15:10:53+00:00\",\n                \"txt\": \"exit-txt\",\n                \"index\":2,\n                \"error\": {\n          \"errType\": \"T\",\n          \"errSeverity\": \"4\",\n          \"errProcessStack\": \"rrrrr\"\n        }\n            }\n    ]"
                  }
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"bodyTxt\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"logEventId\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"index\":{\"type\":\"number\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}},\"required\":[\"bodyTxt\",\"code\",\"contextId\",\"logEventId\",\"processPath\",\"role\",\"timestamp\",\"txt\",\"index\"]}}",
                    "fe_metadata": "[\n  {\n    \"bodyTxt\": \"NA\",\n    \"code\": \"MCI00001\",\n    \"contextId\": \"a73c580bb23771a8e4f8004c73724651\",\n    \"logEventId\": \"e59007c7-be45-4979-8e1b-afb992278887\",\n    \"processPath\": \"MCI-SaveOrder\",\n    \"role\": \"ENTRY\",\n    \"timestamp\": \"2025-04-13T15:10:53+00:00\",\n    \"txt\": \"123\",\n    \"index\": 1\n  },\n  {\n    \"bodyTxt\": \"end body. this is hard coded\",\n    \"code\": \"MCI00001\",\n    \"contextId\": \"a73c580bb23771a8e4f8004c73724651\",\n    \"logEventId\": \"a71a5984-18ce-4c88-93c8-e68668739459\",\n    \"processPath\": \"MCI-SaveOrder\",\n    \"role\": \"EXIT\",\n    \"timestamp\": \"2025-04-13T15:10:53+00:00\",\n    \"txt\": \"exit-txt\",\n    \"index\": 2,\n    \"error\": {\n      \"errType\": \"T\",\n      \"errSeverity\": \"4\",\n      \"errProcessStack\": \"rrrrr\"\n    }\n  }\n]"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Return",
            "name": "Return",
            "description": "Simple Return Activity",
            "activity": {
              "ref": "#actreturn",
              "settings": {
                "mappings": {
                  "auditMsg": {
                    "mapping": {
                      "auditId": "=$activity[Mapper].output.auditMsg.auditId",
                      "logEvents": {
                        "logEvent": {
                          "@foreach($activity[add_event_index].output,logEvent)": {
                            "=": "$loop"
                          }
                        }
                      },
                      "appContext": {
                        "nvpElement": {
                          "@foreach($activity[Mapper].output.auditMsg.appContext.nvpElement,nvpElement)": {
                            "=": "$loop"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6MTAwfSwiTWFwcGVyIjp7IngiOjMyMSwieSI6ODl9LCJhZGRfZXZlbnRfaW5kZXgiOnsieCI6NTI0LCJ5Ijo4OX0sIlJldHVybiI6eyJ4IjoxMDM1LCJ5Ijo4M319",
        "metadata": {
          "input": [
            {
              "name": "input",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"parse_logs\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"log\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"bodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}}}}}}}"
              }
            }
          ],
          "output": [
            {
              "name": "auditMsg",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"auditId\":{\"type\":\"string\"},\"serviceContext\":{\"type\":\"object\",\"properties\":{\"contextTimestamp\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"area\":{\"type\":\"string\"},\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"},\"domainName\":{\"type\":\"string\"},\"appName\":{\"type\":\"string\"},\"appNodeName\":{\"type\":\"string\"},\"host\":{\"type\":\"string\"},\"engineName\":{\"type\":\"string\"},\"beginTS\":{\"type\":\"string\"},\"endTS\":{\"type\":\"string\"},\"contextStatus\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}},\"messageContext\":{\"type\":\"string\"},\"logEvents\":{\"type\":\"object\",\"properties\":{\"logEvent\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"logEventId\":{\"type\":\"string\"},\"index\":{\"type\":\"number\"},\"contextId\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"bodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}}}}}}}"
              }
            }
          ],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"input\":{\"type\":\"object\",\"properties\":{\"parse_logs\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"log\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"bodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}}}}}}}}}}",
            "output": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"auditMsg\":{\"type\":\"object\",\"properties\":{\"auditId\":{\"type\":\"string\"},\"serviceContext\":{\"type\":\"object\",\"properties\":{\"contextTimestamp\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"flowCode\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"area\":{\"type\":\"string\"},\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"},\"domainName\":{\"type\":\"string\"},\"appName\":{\"type\":\"string\"},\"appNodeName\":{\"type\":\"string\"},\"host\":{\"type\":\"string\"},\"engineName\":{\"type\":\"string\"},\"beginTS\":{\"type\":\"string\"},\"endTS\":{\"type\":\"string\"},\"contextStatus\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}},\"messageContext\":{\"type\":\"string\"},\"logEvents\":{\"type\":\"object\",\"properties\":{\"logEvent\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"logEventId\":{\"type\":\"string\"},\"index\":{\"type\":\"number\"},\"contextId\":{\"type\":\"string\"},\"timestamp\":{\"type\":\"string\"},\"processPath\":{\"type\":\"string\"},\"role\":{\"type\":\"string\"},\"code\":{\"type\":\"string\"},\"txt\":{\"type\":\"string\"},\"bodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}}}}}}}}}}}"
          }
        }
      }
    },
    {
      "id": "flow:log_error",
      "data": {
        "name": "log_error",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "get_pc",
            "type": "label",
            "label": "StartActivity to SharedData"
          },
          {
            "id": 2,
            "from": "get_pc",
            "to": "Mapper",
            "type": "label",
            "label": "SharedData to Mapper"
          },
          {
            "id": 3,
            "from": "Mapper",
            "to": "LogMessage",
            "type": "label",
            "label": "Mapper to LogMessage"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "get_pc",
            "name": "get_pc",
            "description": "Enable sharing of data within or across flows in the application",
            "activity": {
              "ref": "#shareddata",
              "settings": {
                "scope": "Flow",
                "operation": "GET",
                "type": "object",
                "objectSchema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
              },
              "input": {
                "key": "=string.substringBefore($flowctx[\"ParentFlowId\"],\"-\")"
              },
              "schemas": {
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"type\":\"object\",\"properties\":{\"exist\":{\"type\":\"boolean\"},\"data\":{\"type\":\"object\",\"properties\":{\"processContext\":{\"type\":\"object\",\"properties\":{\"serviceContext\":{\"type\":\"object\",\"properties\":{\"serviceName\":{\"type\":\"string\"},\"contextId\":{\"type\":\"string\"},\"contextTimestamp\":{\"type\":\"string\"},\"location\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"servicePath\":{\"type\":\"string\"},\"messagingType\":{\"type\":\"string\"},\"noLogEntry\":{\"type\":\"string\"},\"noLogExit\":{\"type\":\"string\"},\"logMsgBodyPolicy\":{\"type\":\"string\"}}},\"flowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"}}},\"messageContext\":{\"type\":\"object\",\"properties\":{\"msgSourceInfo\":{\"type\":\"object\",\"properties\":{\"area\":{\"type\":\"string\"},\"layer\":{\"type\":\"string\"},\"component\":{\"type\":\"object\",\"properties\":{\"componentName\":{\"type\":\"string\"},\"componentInstance\":{\"type\":\"string\"}}}}},\"msgFlowContext\":{\"type\":\"object\",\"properties\":{\"flowCode\":{\"type\":\"string\"},\"flowId\":{\"type\":\"string\"},\"taskCode\":{\"type\":\"string\"},\"taskId\":{\"type\":\"string\"},\"serviceName\":{\"type\":\"string\"}}},\"transportProp\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}},\"messagingType\":{\"type\":\"string\"}}}}}}}}}"
                  }
                },
                "settings": {
                  "objectSchema": "schema://processCtx"
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Mapper",
            "name": "Mapper",
            "description": "Mapper Activity",
            "activity": {
              "ref": "#mapper",
              "input": {
                "input": {
                  "mapping": {
                    "logEventActivityIn": {
                      "logEventRecord": {
                        "log": {
                          "timestamp": "=datetime.currentDatetime()",
                          "role": "ERROR",
                          "code": "=$flow.logError.logCode",
                          "txt": "=$flow.logError.logTxt",
                          "bodyTxt": "=$flow.logError.logBodyTxt",
                          "error": "=$flow.logError.error",
                          "processPath": "=$flowctx[\"ParentFlowName\"]",
                          "contextId": "=$activity[get_pc].output.data.processContext.serviceContext.contextId"
                        },
                        "appContext": {
                          "@conditional": [
                            {
                              "json.exists($flow.logError.appContext,\"$loop.nvpList.nvpElement[0].value\")": {
                                "nvpElement": {
                                  "@foreach($flow.logError.appContext.nvpList.nvpElement,nvpElement)": {
                                    "name": "=$loop.name",
                                    "value": "=$loop.value"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": "schema://logEvent"
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}",
                    "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"logEventActivityIn\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"logEventRecord\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"log\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"contextId\": {\n                  \"type\": \"string\"\n                },\n                \"timestamp\": {\n                  \"type\": \"string\"\n                },\n                \"processPath\": {\n                  \"type\": \"string\"\n                },\n                \"role\": {\n                  \"type\": \"string\"\n                },\n                \"txt\": {\n                  \"type\": \"string\"\n                },\n                \"bodyTxt\": {\n                  \"type\": \"string\"\n                },\n                \"code\": {\n                  \"type\": \"string\"\n                },\n                \"error\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"errType\": {\n                      \"type\": \"string\"\n                    },\n                    \"errSeverity\": {\n                      \"type\": \"string\"\n                    },\n                    \"errProcessStack\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            },\n            \"appContext\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"nvpElement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"name\": {\n                        \"type\": \"string\"\n                      },\n                      \"value\": {\n                        \"type\": \"string\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "LogMessage",
            "name": "LogMessage",
            "description": "Simple Log Message Activity",
            "activity": {
              "ref": "#log",
              "input": {
                "Log Level": "ERROR",
                "flowInfo": false,
                "message": "=coerce.toString($activity[Mapper].output)",
                "logLevel": ""
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6OTl9LCJnZXRfcGMiOnsieCI6MjM1LCJ5Ijo4OX0sIk1hcHBlciI6eyJ4Ijo0ODIsInkiOjk0fSwiTG9nTWVzc2FnZSI6eyJ4Ijo3MTcsInkiOjk0fX0=",
        "metadata": {
          "input": [
            {
              "name": "logError",
              "type": "object",
              "schema": {
                "type": "json",
                "value": "{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}"
              }
            }
          ],
          "output": [],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logError\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
          }
        }
      }
    },
    {
      "id": "flow:MCO-GetOrderDetails",
      "data": {
        "name": "MCO-GetOrderDetails",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "log_entry",
            "type": "label",
            "label": "StartActivity to log_entry"
          },
          {
            "id": 2,
            "from": "log_entry",
            "to": "InvokeRESTService",
            "type": "label",
            "label": "log_entry to InvokeRESTService1"
          },
          {
            "id": 3,
            "from": "InvokeRESTService",
            "to": "log_exit",
            "type": "label",
            "label": "InvokeRESTService1 to log_exit"
          },
          {
            "id": 4,
            "from": "log_exit",
            "to": "Return",
            "type": "label",
            "label": "log_exit to Return"
          },
          {
            "id": 5,
            "from": "InvokeRESTService",
            "to": "log_error",
            "type": "expression",
            "label": "InvokeRESTService to log_error",
            "value": "$activity[InvokeRESTService].statusCode==500"
          },
          {
            "id": 6,
            "from": "log_error",
            "to": "ThrowError",
            "type": "label",
            "label": "StartaSubFlow to ThrowError"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "log_entry",
            "name": "log_entry",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:log_entry",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "logEntry": {
                  "mapping": {
                    "logCode": "MCO00001",
                    "logBodyTxt": "=$flow.orderId",
                    "logTxt": "entry mco"
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logEntry\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logEntry\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "InvokeRESTService",
            "name": "InvokeRESTService",
            "description": "Simple REST Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#rest",
              "input": {
                "enableASR": false,
                "swagger": {
                  "filename": "order-mgmt.rest-OrderMgmt.json",
                  "content": "data:application/json;base64,ew0KICAic3dhZ2dlciIgOiAiMi4wIiwNCiAgImluZm8iIDogew0KICAgICJ2ZXJzaW9uIiA6ICIxLjAiLA0KICAgICJ0aXRsZSIgOiAiT3JkZXJNZ210IiwNCiAgICAiZGVzY3JpcHRpb24iIDogIk9yZGVyTWdtdCBzZXJ2aWNlIg0KICB9LA0KICAiaG9zdCIgOiAibG9jYWxob3N0OjgwODAiLA0KICAiYmFzZVBhdGgiIDogIi8iLA0KICAic2NoZW1lcyIgOiBbICJodHRwIiBdLA0KICAicGF0aHMiIDogew0KICAgICIvb3JkZXIve2lkfSIgOiB7DQogICAgICAiZ2V0IiA6IHsNCiAgICAgICAgInN1bW1hcnkiIDogImdldE9yZGVyTWdtdCIsDQogICAgICAgICJkZXNjcmlwdGlvbiIgOiAiZ2V0T3JkZXJNZ210IiwNCiAgICAgICAgIm9wZXJhdGlvbklkIiA6ICJnZXQtb3JkZXIiLA0KICAgICAgICAiY29uc3VtZXMiIDogWyAiYXBwbGljYXRpb24vanNvbiIgXSwNCiAgICAgICAgInByb2R1Y2VzIiA6IFsgImFwcGxpY2F0aW9uL2pzb24iIF0sDQogICAgICAgICJwYXJhbWV0ZXJzIiA6IFsgew0KICAgICAgICAgICJuYW1lIiA6ICJpZCIsDQogICAgICAgICAgImluIiA6ICJwYXRoIiwNCiAgICAgICAgICAiZGVzY3JpcHRpb24iIDogIiIsDQogICAgICAgICAgInR5cGUiIDogInN0cmluZyIsDQogICAgICAgICAgInJlcXVpcmVkIiA6IHRydWUNCiAgICAgICAgfSBdLA0KICAgICAgICAicmVzcG9uc2VzIiA6IHsNCiAgICAgICAgICAiMjAwIiA6IHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiIgOiAiYSBPcmRlciB0byBiZSByZXR1cm5lZCIsDQogICAgICAgICAgICAic2NoZW1hIiA6IHsNCiAgICAgICAgICAgICAgIiRyZWYiIDogIiMvZGVmaW5pdGlvbnMvT3JkZXIiDQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICAiNTAwIiA6IHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiIgOiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwNCiAgICAgICAgICAgICJzY2hlbWEiIDogew0KICAgICAgICAgICAgICAidHlwZSIgOiAic3RyaW5nIg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgImRlZmluaXRpb25zIiA6IHsNCiAgICAiT3JkZXIiIDogew0KICAgICAgInR5cGUiIDogIm9iamVjdCIsDQogICAgICAicmVxdWlyZWQiIDogWyAiY3VzdG9tZXIiIF0sDQogICAgICAicHJvcGVydGllcyIgOiB7DQogICAgICAgICJjdXN0b21lciIgOiB7DQogICAgICAgICAgInR5cGUiIDogInN0cmluZyINCiAgICAgICAgfSwNCiAgICAgICAgIm9yZGVySWQiIDogew0KICAgICAgICAgICJ0eXBlIiA6ICJpbnRlZ2VyIiwNCiAgICAgICAgICAiZm9ybWF0IiA6ICJpbnQzMiINCiAgICAgICAgfSwNCiAgICAgICAgInNoaXBwZWQiIDogew0KICAgICAgICAgICJ0eXBlIiA6ICJib29sZWFuIg0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQp9"
                },
                "authorization": false,
                "authorizationConn": "",
                "serviceName": "",
                "resourcePath": "/order/{id}",
                "Method": "GET",
                "Uri": "=$property[\"backend.url\"]",
                "requestType": "application/json",
                "Use certificate for verification": false,
                "mutualAuth": false,
                "Client Certificate": "",
                "Client Key": "",
                "Server Certificate": "",
                "disableSSLVerification": false,
                "disableKeepAlives": false,
                "followRedirects": true,
                "Timeout": 0,
                "proxy": "",
                "host": "",
                "pathParams": {
                  "mapping": {
                    "id": "=coerce.toString($flow.orderId)"
                  }
                }
              },
              "output": {
                "configureResponseCodes": true,
                "throwError": false,
                "responseType": "application/json",
                "responseOutput": "JSON Object"
              },
              "schemas": {
                "input": {
                  "serviceMetadata": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"swagger\":{\"type\":\"string\"},\"info\":{\"type\":\"object\",\"properties\":{\"version\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}},\"host\":{\"type\":\"string\"},\"basePath\":{\"type\":\"string\"},\"schemes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"paths\":{\"type\":\"object\",\"properties\":{\"/order/{id}\":{\"type\":\"object\",\"properties\":{\"get\":{\"type\":\"object\",\"properties\":{\"summary\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"operationId\":{\"type\":\"string\"},\"consumes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"produces\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"parameters\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"in\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"required\":{\"type\":\"boolean\"}}}},\"responses\":{\"type\":\"object\",\"properties\":{\"200\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"schema\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"required\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"properties\":{\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"}}},\"orderId\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"format\":{\"type\":\"string\"}}},\"shipped\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"}}}}}}}}},\"500\":{\"type\":\"object\",\"properties\":{\"description\":{\"type\":\"string\"},\"schema\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"}}}}}}}}}}}}},\"definitions\":{\"type\":\"object\",\"properties\":{\"Order\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"required\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"properties\":{\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"}}},\"orderId\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"format\":{\"type\":\"string\"}}},\"shipped\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"}}}}}}}}}}}",
                    "fe_metadata": "{\"swagger\":\"2.0\",\"info\":{\"version\":\"1.0\",\"title\":\"OrderMgmt\",\"description\":\"OrderMgmt service\"},\"host\":\"localhost:8080\",\"basePath\":\"/\",\"schemes\":[\"http\"],\"paths\":{\"/order/{id}\":{\"get\":{\"summary\":\"getOrderMgmt\",\"description\":\"getOrderMgmt\",\"operationId\":\"get-order\",\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"id\",\"in\":\"path\",\"description\":\"\",\"type\":\"string\",\"required\":true}],\"responses\":{\"200\":{\"description\":\"a Order to be returned\",\"schema\":{\"type\":\"object\",\"required\":[\"customer\"],\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"integer\",\"format\":\"int32\"},\"shipped\":{\"type\":\"boolean\"}}}},\"500\":{\"description\":\"Internal Server Error\",\"schema\":{\"type\":\"string\"}}}}}},\"definitions\":{\"Order\":{\"type\":\"object\",\"required\":[\"customer\"],\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"integer\",\"format\":\"int32\"},\"shipped\":{\"type\":\"boolean\"}}}}}"
                  },
                  "pathParams": {
                    "type": "json",
                    "value": "{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"}},\"required\":[\"id\"]}",
                    "fe_metadata": "[{\"parameterName\":\"id\",\"type\":\"string\",\"required\":true}]"
                  },
                  "headers": {
                    "type": "json",
                    "value": "{\"type\":\"object\",\"properties\":{\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Authorization\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false}},\"required\":[]}",
                    "fe_metadata": "[{\"parameterName\":\"Accept\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Charset\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Encoding\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Authorization\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Type\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Length\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Connection\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Pragma\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false}]"
                  },
                  "dynamicRequestHeaders": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Header\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Header\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}"
                  }
                },
                "output": {
                  "responseBody": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"number\"},\"shipped\":{\"type\":\"boolean\"}}}",
                    "fe_metadata": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
                  },
                  "responseCodes": {
                    "type": "json",
                    "value": "{\"type\":\"object\",\"properties\":{\"200\":{\"type\":\"object\",\"required\":[\"customer\"],\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"integer\",\"format\":\"int32\"},\"shipped\":{\"type\":\"boolean\"}}},\"500\":{\"type\":\"string\"}}}",
                    "fe_metadata": "{\"type\":\"object\",\"properties\":{\"200\":{\"type\":\"object\",\"required\":[\"customer\"],\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"integer\",\"format\":\"int32\"},\"shipped\":{\"type\":\"boolean\"}}},\"500\":{\"type\":\"string\"}}}"
                  },
                  "responseCodesSchema": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"number\"},\"responseType\":{\"type\":\"string\"},\"responseSchema\":{\"type\":\"string\"}},\"required\":[\"code\",\"responseType\"]}}",
                    "fe_metadata": "[{\"code\":200,\"responseType\":\"object\",\"responseSchema\":\"{\\\"type\\\":\\\"object\\\",\\\"required\\\":[\\\"customer\\\"],\\\"properties\\\":{\\\"customer\\\":{\\\"type\\\":\\\"string\\\"},\\\"orderId\\\":{\\\"type\\\":\\\"integer\\\",\\\"format\\\":\\\"int32\\\"},\\\"shipped\\\":{\\\"type\\\":\\\"boolean\\\"}}}\"},{\"code\":500,\"responseType\":\"string\"}]"
                  },
                  "headers": {
                    "type": "json",
                    "value": "{\"type\":\"object\",\"properties\":{\"Accept\":{\"type\":\"string\",\"visible\":false},\"Accept-Charset\":{\"type\":\"string\",\"visible\":false},\"Accept-Encoding\":{\"type\":\"string\",\"visible\":false},\"Content-Type\":{\"type\":\"string\",\"visible\":false},\"Content-Length\":{\"type\":\"string\",\"visible\":false},\"Connection\":{\"type\":\"string\",\"visible\":false},\"Cookie\":{\"type\":\"string\",\"visible\":false},\"Pragma\":{\"type\":\"string\",\"visible\":false},\"Set-Cookie\":{\"type\":\"string\",\"visible\":false}},\"required\":[]}",
                    "fe_metadata": "[{\"parameterName\":\"Accept\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Charset\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Accept-Encoding\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Type\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Content-Length\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Connection\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Pragma\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false},{\"parameterName\":\"Set-Cookie\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"visible\":false}]"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "log_exit",
            "name": "log_exit",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:log_exit",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "logExit": {
                  "mapping": {
                    "logCode": "MCO00001",
                    "logTxt": "order details found",
                    "logBodyTxt": "coerce.toString(coerce.toString($activity[InvokeRESTService].responseCodes[\"200\"])"
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logExit\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logExit\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}}}}}}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "Return",
            "name": "Return",
            "description": "Simple Return Activity",
            "activity": {
              "ref": "#actreturn",
              "settings": {
                "mappings": {
                  "customer": "=$activity[InvokeRESTService].responseCodes[\"200\"].customer",
                  "orderId": "=$activity[InvokeRESTService].responseCodes[\"200\"].orderId",
                  "shipped": "=$activity[InvokeRESTService].responseCodes[\"200\"].shipped"
                }
              }
            }
          },
          {
            "id": "log_error",
            "name": "log_error",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:log_error",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "logError": {
                  "mapping": {
                    "logCode": "MCO00001",
                    "error": {
                      "errType": "B",
                      "errSeverity": "4",
                      "errProcessStack": "Error during invoke rest mco"
                    },
                    "logTxt": "=$activity[InvokeRESTService].responseCodes[\"500\"]"
                  }
                }
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logError\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}",
                    "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"logError\":{\"type\":\"object\",\"properties\":{\"logCode\":{\"type\":\"string\"},\"logTxt\":{\"type\":\"string\"},\"logBodyTxt\":{\"type\":\"string\"},\"error\":{\"type\":\"object\",\"properties\":{\"errType\":{\"type\":\"string\"},\"errSeverity\":{\"type\":\"string\"},\"errProcessStack\":{\"type\":\"string\"}}},\"appContext\":{\"type\":\"object\",\"properties\":{\"nvpList\":{\"type\":\"object\",\"properties\":{\"nvpElement\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"value\":{\"type\":\"string\"}},\"required\":[\"name\",\"value\"]}}}}}}}}}}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "ThrowError",
            "name": "ThrowError",
            "description": "Throws an Error",
            "activity": {
              "ref": "#error",
              "input": {
                "message": "=$activity[InvokeRESTService].responseCodes[\"500\"]"
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6MTAwfSwibG9nX2VudHJ5Ijp7IngiOjQyMywieSI6ODd9LCJJbnZva2VSRVNUU2VydmljZSI6eyJ4Ijo2MzMsInkiOjgzfSwibG9nX2V4aXQiOnsieCI6ODY1LCJ5Ijo4NX0sIlJldHVybiI6eyJ4IjoxMDU0LCJ5Ijo4Mn0sImxvZ19lcnJvciI6eyJ4Ijo4MDAsInkiOjI4OX0sIlRocm93RXJyb3IiOnsieCI6MTA1NSwieSI6Mjg0fX0=",
        "errorHandler": {
          "tasks": [
            {
              "id": "LogMessage",
              "name": "LogMessage",
              "description": "Simple Log Message Activity",
              "activity": {
                "ref": "#log",
                "input": {
                  "Log Level": "ERROR",
                  "flowInfo": false,
                  "message": "=string.concat(\"Activity \",$error.activity,\" in MCO goes in error. Message:\",$error.message)",
                  "logLevel": "ERROR"
                }
              }
            },
            {
              "id": "ThrowError1",
              "name": "ThrowError1",
              "description": "Throws an Error",
              "activity": {
                "ref": "#error",
                "input": {
                  "message": "=$error.message",
                  "data": "=$error.data"
                }
              }
            }
          ],
          "links": [
            {
              "id": 7,
              "from": "LogMessage",
              "to": "ThrowError1",
              "type": "label",
              "label": "LogMessage to ThrowError1"
            }
          ],
          "fe_metadata": "eyJMb2dNZXNzYWdlIjp7IngiOjQwOCwieSI6OTl9LCJUaHJvd0Vycm9yMSI6eyJ4Ijo3MDksInkiOjEwMH19"
        },
        "metadata": {
          "input": [
            {
              "name": "orderId",
              "type": "float64"
            }
          ],
          "output": [
            {
              "name": "customer",
              "type": "string"
            },
            {
              "name": "orderId",
              "type": "float64"
            },
            {
              "name": "shipped",
              "type": "boolean"
            }
          ],
          "fe_metadata": {
            "input": "{\n    \"orderId\":123\n    \n}",
            "output": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
          }
        }
      }
    },
    {
      "id": "flow:main",
      "data": {
        "name": "main",
        "description": "",
        "links": [
          {
            "id": 1,
            "from": "StartActivity",
            "to": "action",
            "type": "label",
            "label": "StartActivity to action"
          },
          {
            "id": 2,
            "from": "action",
            "to": "LogMessage1",
            "type": "error",
            "label": "action to LogMessage1"
          },
          {
            "id": 3,
            "from": "LogMessage1",
            "to": "ThrowError",
            "type": "label",
            "label": "LogMessage1 to ThrowError"
          },
          {
            "id": 4,
            "from": "action",
            "to": "Return",
            "type": "label",
            "label": "action to Return"
          }
        ],
        "tasks": [
          {
            "id": "StartActivity",
            "name": "StartActivity",
            "description": "NoOp Activity",
            "activity": {
              "ref": "#noop"
            }
          },
          {
            "id": "action",
            "name": "action",
            "description": "Simple SubFlow Activity",
            "settings": {
              "retryOnError": {
                "count": 0,
                "interval": 0
              }
            },
            "activity": {
              "ref": "#subflow",
              "settings": {
                "flowURI": "res://flow:MCO-GetOrderDetails",
                "detached": false,
                "execTimeout": 0
              },
              "input": {
                "orderId": "=$flow.orderId"
              },
              "schemas": {
                "input": {
                  "input": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"orderId\":{\"type\":\"number\"}}}",
                    "fe_metadata": "{\n    \"orderId\":123\n    \n}"
                  }
                },
                "output": {
                  "output": {
                    "type": "json",
                    "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"customer\":{\"type\":\"string\"},\"orderId\":{\"type\":\"number\"},\"shipped\":{\"type\":\"boolean\"}}}",
                    "fe_metadata": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
                  }
                }
              },
              "feSchemaMap": {}
            }
          },
          {
            "id": "LogMessage1",
            "name": "LogMessage1",
            "description": "Simple Log Message Activity",
            "activity": {
              "ref": "#log",
              "input": {
                "Log Level": "ERROR",
                "flowInfo": false,
                "message": "=string.concat(\"error in MCO - \",$error[action].message)",
                "logLevel": ""
              }
            }
          },
          {
            "id": "ThrowError",
            "name": "ThrowError",
            "description": "Throws an Error",
            "activity": {
              "ref": "#error",
              "input": {
                "message": "=$error[action].message",
                "data": "=$error[action].data"
              }
            }
          },
          {
            "id": "Return",
            "name": "Return",
            "description": "Simple Return Activity",
            "activity": {
              "ref": "#actreturn",
              "settings": {
                "mappings": {
                  "customer": "=$activity[action].customer",
                  "orderId": "=$activity[action].orderId",
                  "shipped": "=$activity[action].shipped"
                }
              }
            }
          }
        ],
        "fe_metadata": "eyJTdGFydEFjdGl2aXR5Ijp7IngiOjEwMCwieSI6MTAwfSwiYWN0aW9uIjp7IngiOjMwOSwieSI6ODh9LCJMb2dNZXNzYWdlMSI6eyJ4Ijo0NjUsInkiOjI4NH0sIlRocm93RXJyb3IiOnsieCI6NjUyLCJ5IjoyNzV9LCJSZXR1cm4iOnsieCI6NjEyLCJ5Ijo5Nn19",
        "errorHandler": {
          "tasks": [
            {
              "id": "LogMessage",
              "name": "LogMessage",
              "description": "Simple Log Message Activity",
              "activity": {
                "ref": "#log",
                "input": {
                  "Log Level": "ERROR",
                  "flowInfo": false,
                  "message": "=string.concat(\"Activity \",$error.activity,\" in main goes in error. Message:\",$error.message)",
                  "logLevel": ""
                }
              }
            },
            {
              "id": "ThrowError1",
              "name": "ThrowError1",
              "description": "Throws an Error",
              "activity": {
                "ref": "#error",
                "input": {
                  "message": "=$error.message",
                  "data": "=$error.data"
                }
              }
            }
          ],
          "links": [
            {
              "id": 5,
              "from": "LogMessage",
              "to": "ThrowError1",
              "type": "label",
              "label": "LogMessage to ThrowError1"
            }
          ],
          "fe_metadata": "eyJMb2dNZXNzYWdlIjp7IngiOjM3NSwieSI6OTh9LCJUaHJvd0Vycm9yMSI6eyJ4Ijo2NjYsInkiOjEwM319"
        },
        "metadata": {
          "input": [
            {
              "name": "orderId",
              "type": "float64"
            }
          ],
          "output": [
            {
              "name": "customer",
              "type": "string"
            },
            {
              "name": "orderId",
              "type": "float64"
            },
            {
              "name": "shipped",
              "type": "boolean"
            }
          ],
          "fe_metadata": {
            "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"orderId\":{\"type\":\"number\"}}}",
            "output": "{\"customer\":\"BEASTS\",\"orderId\":666,\"shipped\":true}"
          }
        }
      }
    }
  ],
  "properties": [
    {
      "name": "logs.type",
      "type": "string",
      "value": "local"
    },
    {
      "name": "backend.url",
      "type": "string",
      "value": "http://host.docker.internal:8080"
    }
  ],
  "schemas": {
    "processCtx": {
      "type": "json",
      "value": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
      "fe_metadata": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"processContext\": {\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"serviceContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"serviceName\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"contextTimestamp\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"location\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"servicePath\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogEntry\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"noLogExit\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"logMsgBodyPolicy\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"flowContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"flowCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"flowId\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskCode\": {\r\n                            \"type\": \"string\"\r\n                        },\r\n                        \"taskId\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                },\r\n                \"messageContext\": {\r\n                    \"type\": \"object\",\r\n                    \"properties\": {\r\n                        \"msgSourceInfo\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"area\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"layer\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"component\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"componentName\": {\r\n                                            \"type\": \"string\"\r\n                                        },\r\n                                        \"componentInstance\": {\r\n                                            \"type\": \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"msgFlowContext\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"flowCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"flowId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskCode\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"taskId\": {\r\n                                    \"type\": \"string\"\r\n                                },\r\n                                \"serviceName\": {\r\n                                    \"type\": \"string\"\r\n                                }\r\n                            }\r\n                        },\r\n                        \"transportProp\": {\r\n                            \"type\": \"object\",\r\n                            \"properties\": {\r\n                                \"nvpList\": {\r\n                                    \"type\": \"object\",\r\n                                    \"properties\": {\r\n                                        \"nvpElement\": {\r\n                                            \"type\": \"array\",\r\n                                            \"items\": {\r\n                                                \"type\": \"object\",\r\n                                                \"properties\": {\r\n                                                    \"name\": {\r\n                                                        \"type\": \"string\"\r\n                                                    },\r\n                                                    \"value\": {\r\n                                                        \"type\": \"string\"\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        \"messagingType\": {\r\n                            \"type\": \"string\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}"
    },
    "logEvent": {
      "type": "json",
      "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"logEventActivityIn\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"logEventRecord\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"log\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"contextId\": {\n                                    \"type\": \"string\"\n                                },\n                                \"timestamp\": {\n                                    \"type\": \"string\"\n                                },\n                                \"processPath\": {\n                                    \"type\": \"string\"\n                                },\n                                \"role\": {\n                                    \"type\": \"string\"\n                                },\n                                \"txt\": {\n                                    \"type\": \"string\"\n                                },\n                                \"bodyTxt\": {\n                                    \"type\": \"string\"\n                                },\n                                \"code\": {\n                                    \"type\": \"string\"\n                                }, \n\"error\":  {\n                                        \"type\": \"object\",\n                                        \"properties\":{\n                                            \"errType\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errSeverity\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errProcessStack\": {\n                                              \"type\": \"string\"\n                                            }                       \n                                        }\n                                    }\n\n                            }\n                        },\n                        \"appContext\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"nvpElement\": {\n                                    \"type\": \"array\",\n                                    \"items\": {\n                                        \"type\": \"object\",\n                                        \"properties\": {\n                                            \"name\": {\n                                                \"type\": \"string\"\n                                            },\n                                            \"value\": {\n                                                \"type\": \"string\"\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
      "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"logEventActivityIn\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"logEventRecord\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"log\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"contextId\": {\n                                    \"type\": \"string\"\n                                },\n                                \"timestamp\": {\n                                    \"type\": \"string\"\n                                },\n                                \"processPath\": {\n                                    \"type\": \"string\"\n                                },\n                                \"role\": {\n                                    \"type\": \"string\"\n                                },\n                                \"txt\": {\n                                    \"type\": \"string\"\n                                },\n                                \"bodyTxt\": {\n                                    \"type\": \"string\"\n                                },\n                                \"code\": {\n                                    \"type\": \"string\"\n                                }, \n\"error\":  {\n                                        \"type\": \"object\",\n                                        \"properties\":{\n                                            \"errType\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errSeverity\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errProcessStack\": {\n                                              \"type\": \"string\"\n                                            }                       \n                                        }\n                                    }\n\n                            }\n                        },\n                        \"appContext\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"nvpElement\": {\n                                    \"type\": \"array\",\n                                    \"items\": {\n                                        \"type\": \"object\",\n                                        \"properties\": {\n                                            \"name\": {\n                                                \"type\": \"string\"\n                                            },\n                                            \"value\": {\n                                                \"type\": \"string\"\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}"
    },
    "auditMsg": {
      "type": "json",
      "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"auditMsg\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"auditId\": {\n                    \"type\": \"string\"\n                },\n                \"serviceContext\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"contextTimestamp\": {\n                            \"type\": \"string\"\n                        },\n                        \"flowId\": {\n                            \"type\": \"string\"\n                        },\n                        \"taskId\": {\n                            \"type\": \"string\"\n                        },\n                        \"contextId\": {\n                            \"type\": \"string\"\n                        },\n                        \"flowCode\": {\n                            \"type\": \"string\"\n                        },\n                        \"taskCode\": {\n                            \"type\": \"string\"\n                        },\n                        \"serviceName\": {\n                            \"type\": \"string\"\n                        },\n                        \"processPath\": {\n                            \"type\": \"string\"\n                        },\n                        \"layer\": {\n                            \"type\": \"string\"\n                        },\n                        \"area\": {\n                            \"type\": \"string\"\n                        },\n                        \"componentName\": {\n                            \"type\": \"string\"\n                        },\n                        \"componentInstance\": {\n                            \"type\": \"string\"\n                        },\n                        \"domainName\": {\n                            \"type\": \"string\"\n                        },\n                        \"appName\": {\n                            \"type\": \"string\"\n                        },\n                        \"appNodeName\": {\n                            \"type\": \"string\"\n                        },\n                        \"host\": {\n                            \"type\": \"string\"\n                        },\n                        \"engineName\": {\n                            \"type\": \"string\"\n                        },\n                        \"beginTS\": {\n                            \"type\": \"string\"\n                        },\n                        \"endTS\": {\n                            \"type\": \"string\"\n                        },\n                        \"contextStatus\": {\n                            \"type\": \"string\"\n                        },\n                        \"messagingType\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"appContext\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"nvpElement\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"name\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"value\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                },\n                \"messageContext\": {\n                    \"type\": \"string\"\n                },\n                \"logEvents\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"logEvent\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"logEventId\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"index\": {\n                                        \"type\": \"integer\"\n                                    },\n                                    \"contextId\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"timestamp\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"processPath\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"role\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"code\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"txt\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"bodyTxt\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"error\":  {\n                                        \"type\": \"object\",\n                                        \"properties\":{\n                                            \"errType\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errSeverity\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errProcessStack\": {\n                                              \"type\": \"string\"\n                                            }                       \n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",
      "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"auditMsg\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"auditId\": {\n                    \"type\": \"string\"\n                },\n                \"serviceContext\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"contextTimestamp\": {\n                            \"type\": \"string\"\n                        },\n                        \"flowId\": {\n                            \"type\": \"string\"\n                        },\n                        \"taskId\": {\n                            \"type\": \"string\"\n                        },\n                        \"contextId\": {\n                            \"type\": \"string\"\n                        },\n                        \"flowCode\": {\n                            \"type\": \"string\"\n                        },\n                        \"taskCode\": {\n                            \"type\": \"string\"\n                        },\n                        \"serviceName\": {\n                            \"type\": \"string\"\n                        },\n                        \"processPath\": {\n                            \"type\": \"string\"\n                        },\n                        \"layer\": {\n                            \"type\": \"string\"\n                        },\n                        \"area\": {\n                            \"type\": \"string\"\n                        },\n                        \"componentName\": {\n                            \"type\": \"string\"\n                        },\n                        \"componentInstance\": {\n                            \"type\": \"string\"\n                        },\n                        \"domainName\": {\n                            \"type\": \"string\"\n                        },\n                        \"appName\": {\n                            \"type\": \"string\"\n                        },\n                        \"appNodeName\": {\n                            \"type\": \"string\"\n                        },\n                        \"host\": {\n                            \"type\": \"string\"\n                        },\n                        \"engineName\": {\n                            \"type\": \"string\"\n                        },\n                        \"beginTS\": {\n                            \"type\": \"string\"\n                        },\n                        \"endTS\": {\n                            \"type\": \"string\"\n                        },\n                        \"contextStatus\": {\n                            \"type\": \"string\"\n                        },\n                        \"messagingType\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"appContext\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"nvpElement\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"name\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"value\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                },\n                \"messageContext\": {\n                    \"type\": \"string\"\n                },\n                \"logEvents\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"logEvent\": {\n                            \"type\": \"array\",\n                            \"items\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"logEventId\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"index\": {\n                                        \"type\": \"integer\"\n                                    },\n                                    \"contextId\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"timestamp\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"processPath\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"role\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"code\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"txt\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"bodyTxt\": {\n                                        \"type\": \"string\"\n                                    },\n                                    \"error\":  {\n                                        \"type\": \"object\",\n                                        \"properties\":{\n                                            \"errType\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errSeverity\": {\n                                              \"type\": \"string\"\n                                            },\n                                            \"errProcessStack\": {\n                                              \"type\": \"string\"\n                                            }                       \n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}"
    }
  },
  "connections": {
    "11e4a074-c111-486d-8572-4e15e84f2eb9": {
      "id": "11e4a074-c111-486d-8572-4e15e84f2eb9",
      "name": "kafka",
      "ref": "#kafka",
      "isGlobal": false,
      "settings": {
        "name": "kafka",
        "description": "Apache Kafka client configuration",
        "brokers": "localhost:9092",
        "authMode": "None",
        "userName": "",
        "password": "",
        "clientID": "",
        "clientSecret": "",
        "tokenURL": "",
        "scope": "",
        "securityProtocol": "SASL_SSL",
        "clientCert": "",
        "clientKey": "",
        "caCert": "",
        "connectionTimeout": 30,
        "retryBackoff": 250,
        "retryMax": 3,
        "refreshFrequency": 40,
        "useSchmaRegistry": false,
        "url": "",
        "userName_schemaRegistry": "",
        "password_schemaRegistry": ""
      }
    }
  },
  "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS90aWJjby9mbG9nby1nZW5lcmFsL3NyYy9hcHAvR2VuZXJhbCIsImlkIjoiR2VuZXJhbCIsInZlcnNpb24iOiIxLjYuMTEiLCJ0YWciOiIxLjYuMTEtYjAyIiwibmFtZSI6IkdlbmVyYWwiLCJzM2xvY2F0aW9uIjoiVGliY28vR2VuZXJhbCIsImlzVXNlckV4dGVuc2lvbiI6ZmFsc2V9LHsicmVmIjoiZ2l0aHViLmNvbS90aWJjby93aS1wbHVnaW5zL2NvbnRyaWJ1dGlvbnMva2Fma2Evc3JjL2FwcC9LYWZrYSIsImlkIjoiS2Fma2EiLCJ2ZXJzaW9uIjoiMS4zLjQiLCJ0YWciOiIxLjMuNC1iMDIiLCJuYW1lIjoiQXBhY2hlIEthZmthIiwiczNsb2NhdGlvbiI6IlRpYmNvL0thZmthIiwiaXNVc2VyRXh0ZW5zaW9uIjpmYWxzZX1d",
  "metadata": {
    "endpoints": [
      {
        "protocol": "http",
        "port": "8075",
        "spec": {
          "name": "order-app",
          "version": "1.0.0"
        },
        "title": "ReceiveHTTPMessage",
        "swagger": {
          "swagger": "2.0",
          "info": {
            "title": "order-app",
            "version": "1.0.0",
            "description": "Simple REST Trigger"
          },
          "paths": {
            "/order/save/{id}": {
              "get": {
                "summary": "MCI-SaveOrder",
                "operationId": "get_order_save_id",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "description": "Request parameter",
                    "required": true,
                    "type": "string"
                  },
                  {
                    "name": "Authorization",
                    "in": "header",
                    "description": "Request parameter",
                    "required": false,
                    "type": "string"
                  }
                ],
                "responses": {
                  "200": {
                    "description": "",
                    "schema": {
                      "type": "string"
                    }
                  },
                  "500": {
                    "description": "",
                    "schema": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "definitions": {}
        }
      }
    ],
    "flogoVersion": "2.25.11"
  }
}